(self.webpackChunk=self.webpackChunk||[]).push([[9418],{60946:(e,t,a)=>{var i,l,n,r;self,e.exports=(i=a(11838),l=a(90004),n=a(20374),r=a(32735),(()=>{var e={"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,a)=>{"use strict";var i=a("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function l(){}function n(){}n.resetWarningCache=l,e.exports=function(){function e(e,t,a,l,n,r){if(r!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:l};return a.PropTypes=a,a}},"../../../node_modules/prop-types/index.js":(e,t,a)=>{e.exports=a("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":e=>{"use strict";e.exports=i},"@deriv/shared":e=>{"use strict";e.exports=l},"@deriv/translations":e=>{"use strict";e.exports=n},react:e=>{"use strict";e.exports=r}},t={};function a(i){var l=t[i];if(void 0!==l)return l.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{"use strict";a.d(o,{default:()=>m});var e=a("react"),t=a.n(e),i=a("../../../node_modules/prop-types/index.js"),l=a.n(i),n=a("@deriv/translations"),r=a("@deriv/components"),s=a("@deriv/shared"),c=function(e){var a=e.identifier_title,i=e.is_open,l=e.onClose,o=e.onClickSendEmail,c=e.has_live_chat,m=void 0!==c&&c,u=e.is_modal_when_mobile,d=void 0!==u&&u,p=m?t().createElement(n.Localize,{i18n_default_text:"Still didn't get the email? Please contact us via <0>live chat.</0>",components:[t().createElement("span",{className:"send-email-template__footer-live-chat",key:0,onClick:function(){var e;l(),null===(e=window.LiveChatWidget)||void 0===e||e.call("maximize")}},t().createElement(r.Popover,{className:"send-email-template__footer-live-chat__link",classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,n.localize)("Live chat"),zIndex:9999}))]}):null,_=t().createElement(r.SendEmailTemplate,{className:"sent-email",subtitle:function(){var e="";switch(a){case s.CFD_PLATFORMS.DXTRADE:e=t().createElement(n.Localize,{i18n_default_text:"Please click on the link in the email to change your <0>Deriv X</0> password.",components:[t().createElement("span",{className:"send-email-template__subtitle-platform",key:0})]});break;case s.CFD_PLATFORMS.MT5:e=(0,n.localize)("Please click on the link in the email to change your DMT5 password.");break;case"Google":case"Facebook":e=(0,n.localize)("Check your {{ identifier_title }} account email and click the link in the email to proceed.",{identifier_title:a});break;case"Change_Email":e=(0,n.localize)("Check your email and click the link in the email to proceed.");break;default:e=(0,n.localize)("Please click on the link in the email to reset your password.")}return e}(),title:(0,n.localize)("We’ve sent you an email"),lbl_no_receive:(0,n.localize)("Didn't receive the email?"),txt_resend:(0,n.localize)("Resend email"),txt_resend_in:(0,n.localize)("Resend email in"),onClickSendEmail:o,closeEmailModal:l,live_chat:p},[{key:"email_spam",icon:"IcEmailSpam",content:(0,n.localize)("The email is in your spam folder (Sometimes things get lost there).")},{key:"wrong_email",icon:"IcEmail",content:(0,n.localize)("You accidentally gave us another email address (Usually a work or a personal one instead of the one you meant).")},{key:"wrong_typo",icon:"IcEmailTypo",content:(0,n.localize)("The email address you entered had a mistake or typo (happens to the best of us).")},{key:"email_firewall",icon:"IcEmailFirewall",content:(0,n.localize)("We can’t deliver the email to this address (Usually because of firewalls or filtering).")}].map((function(e){return t().createElement("div",{className:"sent-email__content",key:e.key},t().createElement(r.Icon,{icon:e.icon,size:32}),t().createElement(r.Text,{size:"xxs",as:"p"},e.content))})));return(0,s.isMobile)()&&!d?t().createElement(r.MobileDialog,{portal_element_id:"modal_root",title:(0,n.localize)("We’ve sent you an email"),wrapper_classname:"mt5-email-sent",visible:i,onClose:l,has_content_scroll:!0},_):t().createElement(r.Modal,{className:"sent-email__modal",is_open:i,has_close_icon:!0,should_header_stick_body:!0,title:"",toggleModal:l,width:"440px"},t().createElement(r.Div100vhContainer,{className:"account__scrollbars_container-wrapper",is_disabled:(0,s.isDesktop)(),height_offset:"80px"},t().createElement(r.Modal.Body,null,t().createElement("div",{onClick:l,className:"send-email-template__close"},t().createElement(r.Icon,{icon:"IcCross"})),_)))};c.propTypes={identifier_title:l().string,is_open:l().bool,is_unlink_modal:l().bool,onClose:l().func,onClickSendEmail:l().func,has_live_chat:l().bool,is_modal_when_mobile:l().bool};const m=c})(),o.default})())},12800:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var i=a(32735),l=a(60216),n=a.n(l),r=a(40841),o=a.n(r),s=a(71838),c=a(11838),m=a(90004),u=a(20374),d=a(75672),p=a(60946),_=a.n(p),f=a(58468);function h(e,t,a,i,l,n,r){try{var o=e[n](r),s=o.value}catch(e){return void a(e)}o.done?t(s):Promise.resolve(s).then(i,l)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var i,l,n=[],r=!0,o=!1;try{for(a=a.call(e);!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var y=function(e){var t=e.disableApp,a=e.enableApp,l=e.is_loading,n=e.is_visible,r=e.verification_code,d=e.toggleResetEmailModal,p=v(i.useState(!1),2),g=p[0],y=p[1],b=v(i.useState(null),2),E=b[0],x=b[1],k=function(e,t){if(t.setSubmitting(!1),e)return t.resetForm({email:""}),void t.setStatus({error_msg:e});t.setStatus({reset_complete:!0}),y(!0),d(!1)};return g?i.createElement(_(),{is_open:g,onClose:function(){return y(!1)},identifier_title:"Change_Email",onClickSendEmail:function(){f.WS.changeEmail(E)},has_live_chat:!0,is_modal_when_mobile:!0}):i.createElement(s.Formik,{initialValues:{email:""},initialStatus:{reset_complete:!1,error_msg:""},validate:function(e){var t={};return e.email?(0,m.validEmail)(e.email)||(t.email=(0,m.getErrorMessages)().email()):t.email=(0,u.localize)("The email input should not be empty."),t},onSubmit:function(e,t){var a={change_email:"verify",new_email:e.email,verification_code:r};x(a),f.WS.changeEmail(a).then(function(){var e,a=(e=regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.error?k(a.error.message,t):k(null,t);case 1:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,l){var n=e.apply(t,a);function r(e){h(n,i,l,r,o,"next",e)}function o(e){h(n,i,l,r,o,"throw",e)}r(void 0)}))});return function(e){return a.apply(this,arguments)}}())}},(function(e){var r=e.errors,m=e.values,p=e.touched,_=e.isSubmitting,f=e.handleChange,h=e.setFieldTouched,v=e.status;return i.createElement(c.Dialog,{is_visible:n,disableApp:t,enableApp:a,is_loading:l,dismissable:v.error_msg,onConfirm:function(){return d(!1)},is_closed_on_cancel:!1},i.createElement("div",{className:"reset-email"},i.createElement(s.Form,null,i.createElement(i.Fragment,null,v.reset_complete?i.createElement("div",{className:"reset-email__email-selection"},i.createElement(c.Text,{as:"p",weight:"bold",className:"reset-email__heading"},i.createElement(u.Localize,{i18n_default_text:"Your password has been changed"})),i.createElement(c.Text,{align:"center",as:"p",size:"xxs",className:"reset-email__subtext"},i.createElement(u.Localize,{i18n_default_text:"We will now redirect you to the login page."}))):i.createElement("div",{className:"reset-email__email-selection"},i.createElement(c.Text,{as:"p",align:"left",weight:"bold",className:"reset-email__heading"},i.createElement(u.Localize,{i18n_default_text:"Enter a new email address"})),i.createElement(c.Text,{as:"p",color:"prominent",size:"xs",align:"left",className:"reset-email__descripton"},i.createElement(u.Localize,{i18n_default_text:"You'll log in to your Deriv account with this email address."})),i.createElement("fieldset",{className:"reset-email__fieldset"},i.createElement(c.Input,{"data-lpignore":"true",type:"text",name:"email",id:"email",placeholder:(0,u.localize)("Email address"),value:m.email,required:!0,disabled:!1,error:p.email&&r.email||v.error_msg,onChange:function(e){h("email",!0),f(e)}})),i.createElement(c.Text,{align:"center",as:"p",size:"xxs",className:"reset-email__subtext"},v.error_msg&&i.createElement(u.Localize,{i18n_default_text:"{{error_msg}}",values:{error_msg:v.error_msg}})),i.createElement(c.Button,{className:o()("reset-email__btn",{"reset-email__btn--disabled":!m.email||r.email||_}),type:"submit",is_disabled:!m.email||!!r.email||_,primary:!0,large:!0},i.createElement(u.Localize,{i18n_default_text:"Confirm"})))))))}))};y.propTypes={disableApp:n().func,enableApp:n().func,is_loading:n().bool,is_visible:n().bool,logoutClient:n().func,verification_code:n().string};const b=(0,d.$j)((function(e){var t=e.ui,a=e.client;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading,is_visible:t.is_reset_email_modal_visible,logoutClient:a.logout,toggleResetEmailModal:t.toggleResetEmailModal,verification_code:a.verification_code.request_email}}))(y)}}]);